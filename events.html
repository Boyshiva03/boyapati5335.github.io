<!DOCTYPE html>
<html lang="en">
<head>
    <script>
    // Security Check: If the "Key" isn't found, redirect to login
    if (sessionStorage.getItem("isLoggedIn") !== "true") {
        window.location.href = "login.html";
    }
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - My World</title>
    <link rel="stylesheet" href="style.css">
    <script>
        if (sessionStorage.getItem("isLoggedIn") !== "true") {
            window.location.href = "login.html";
        }
    </script>
    <style>
        .events-grid { display: flex; flex-direction: row; gap: 10px; padding: 10px; max-width: 75%; margin: 50px auto; }
        .section-card { background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(15px); border-radius: 20px; padding: 25px; border: 1px solid rgba(255, 255, 255, 0.3); color: white; }
        .photo-gallery img { width: 120px; height: 120px; object-fit: cover; border-radius: 10px; margin-right: 10px; border: 2px solid rgba(255,255,255,0.5); }
        iframe { width: 100%; border-radius: 15px; margin-top: 15px; border: 1px solid rgba(255,255,255,0.2); }
        .logout-btn { background: #ff4d4d; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; float: right; }
        
        /* The Modal (background) */
.modal {
  display: none; 
  position: fixed; 
  z-index: 1000; 
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.9);
}

/* Modal Content (Image) */
.modal-content {
  position: relative;
  margin: auto;
  top: 50%;
  transform: translateY(-50%);
  width: 80%;
  max-width: 700px;
}

/* Close Button */
.close {
  position: absolute;
  top: 20px; right: 35px;
  color: #fff; font-size: 40px; font-weight: bold; cursor: pointer;
}

/* Next & Previous Buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  margin-top: -22px;
  color: white;
  font-weight: bold;
  font-size: 20px;
  background-color: rgba(0,0,0,0.5);
  user-select: none;
}
.next { right: 0; border-radius: 3px 0 0 3px; }
.prev { left: 0; border-radius: 0 3px 3px 0; }
    </style>
</head>
<body>

<div class="events-grid">  

    <button class="logout-btn" onclick="sessionStorage.clear(); window.location.href='index.html';">
        Logout
    </button>

    <div class="profile-section">
    <img src="images/img4.PNG" alt="Profile" class="profile-circle" style="left: 20px; width:150px; height:150px; border-radius:50%; border: 3px solid rgba(255,255,255,0.5);position:fixed; top: 20px;">
    </div>

    <div class="events-grid">
        </div>

    
    <div class="section-card">
        <h3>üèÉ Recent Activities</h3>
        <ul>
            <li>Morning Routine: Completed 10,000 steps.</li>
            <li>Visited the swarnagiri temple</li>
            <li>Celebrated sankarnti festival at home town</li>
        </ul>
    </div>
    
    <div class="section-card">
        <h3>üì∏ Recent Photos</h3>
        <div class="photo-gallery">
        <img src="images/img1.JPG" onclick="openModal(0)" style="cursor:pointer" alt="Photo 1">
        <img src="images/img2.JPG" onclick="openModal(1)" style="cursor:pointer" alt="Photo 2">
        <img src="images/img3.JPG" onclick="openModal(2)" style="cursor:pointer" alt="Photo 3">
    </div>
    </div>

    <div class="section-card">
        <h3>üé• YouTube Videos</h3>
        <iframe height="250" src="https://www.youtube.com/embed/DdkS8Buyzvc" frameborder="0" allowfullscreen></iframe>
        <iframe height="250" src="https://www.youtube.com/embed/Q58tuXPr8do" frameborder="0" allowfullscreen></iframe>
        <iframe height="250" src="https://www.youtube.com/embed/Byds93-3C6c" frameborder="0" allowfullscreen></iframe>
    </div>

    <div class="section-card">
        <h3>üìÖ Upcoming Events</h3>
        <p>‚Ä¢ Shivanshi birthday - 2026/02/24</p>
        <p>‚Ä¢ Daily Health Task: 10000 Steps</p>
    </div>
    
</div>

<script>
    const myImages = ['images/img1.JPG', 'images/img2.JPG', 'images/img3.JPG'];
    document.body.style.backgroundImage = "url('" + myImages[Math.floor(Math.random() * myImages.length)] + "')";
    let currentPhotoIndex = 0;
// Make sure this list matches your actual images
const galleryImages = ['images/img1.JPG', 'images/img2.JPG', 'images/img3.JPG'];

function openModal(index) {
  currentPhotoIndex = index;
  document.getElementById("photoModal").style.display = "block";
  document.getElementById("modalImg").src = galleryImages[currentPhotoIndex];
}

function closeModal() {
  document.getElementById("photoModal").style.display = "none";
}

function changePhoto(n) {
  currentPhotoIndex += n;
  // Loop back to start or end
  if (currentPhotoIndex >= galleryImages.length) {currentPhotoIndex = 0}
  if (currentPhotoIndex < 0) {currentPhotoIndex = galleryImages.length - 1}
  
  document.getElementById("modalImg").src = galleryImages[currentPhotoIndex];
}

// Close modal if user clicks outside the image
window.onclick = function(event) {
  const modal = document.getElementById("photoModal");
  if (event.target == modal) { closeModal(); }
}
</script>

<div id="photoModal" class="modal">
  <span class="close" onclick="closeModal()">&times;</span>
  <div class="modal-content">
    <img id="modalImg" src="" style="width:100%">
    <a class="prev" onclick="changePhoto(-1)">&#10094;</a>
    <a class="next" onclick="changePhoto(1)">&#10095;</a>
  </div>
</div>
</body>
</html>